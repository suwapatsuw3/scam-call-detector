<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üõ°Ô∏è Scam Call Detector - AI Demo</title>
    <link rel="stylesheet" href="/static/css/pitch.css">
    <link rel="stylesheet" href="/static/css/style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Noto+Sans+Thai:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Override to match main page navbar style */
        .pitch-navbar {
            position: fixed !important;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(15, 15, 30, 0.9) !important;
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .pitch-navbar .nav-brand .brand-text {
            background: linear-gradient(135deg, #667eea 0%, #f093fb 50%, #4facfe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .pitch-navbar .nav-links {
            display: flex;
            gap: 2rem;
        }
        .pitch-navbar .nav-link {
            color: #a0a0b8;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        .pitch-navbar .nav-link:hover,
        .pitch-navbar .nav-link.active {
            color: #ffffff;
        }
        .pitch-navbar .btn-demo-link {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        /* Connection Badge Styles */
        .connection-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            background: rgba(255,255,255,0.1);
            color: #a0a0b8;
        }
        .connection-badge .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #666;
        }
        .connection-badge.connecting .status-dot { background: #fbbf24; animation: pulse 1s infinite; }
        .connection-badge.processing .status-dot { background: #3b82f6; animation: pulse 1s infinite; }
        .connection-badge.connected .status-dot { background: #10b981; }
        .connection-badge.error .status-dot { background: #ef4444; }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }
        .main-content {
            padding-top: 80px;
        }
    </style>
</head>

<body>
    <div class="pitch-container">
        <!-- Navigation -->
        <nav class="pitch-navbar">
            <div class="nav-brand">
                <span class="brand-icon">üõ°Ô∏è</span>
                <span class="brand-text">Scam Call Detector</span>
            </div>
            <div class="nav-links">
                <a href="#architecture" class="nav-link active">How It Works</a>
                <a href="#demo" class="nav-link">Live Demo</a>
                <a href="#text-check" class="nav-link">Text Check</a>
            </div>
            <a href="/" class="btn-demo-link">
                <i class="fa-solid fa-arrow-left"></i> Back to Main
            </a>
            <div id="connection-status" class="connection-badge">
                <span class="status-dot"></span>
                <span class="status-text">Initializing...</span>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content compact">

            <!-- 1. ARCHITECTURE SECTION -->
            <section id="architecture" class="section-container architecture-section">
                <div class="section-header center">
                    <span class="section-tag">TECHNOLOGY</span>
                    <h2>‚öôÔ∏è How It Works</h2>
                </div>

                <div class="architecture-diagram" style="text-align: center; padding: 2rem 0;">
                    <img src="/static/flow/Demo.png" alt="Demo Architecture Flow" style="max-width: 100%; height: auto; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">
                    <p style="margin-top: 1.5rem; color: #aaa; font-size: 0.9rem; max-width: 800px; margin-left: auto; margin-right: auto;">
                        <strong>Note:</strong> For this web-app demo, the input has been changed from microphone and speaker to audio file (.wav). WangchanBERTa is used to identify who is the CALLER.
                    </p>
                    <div style="margin-top: 2rem; display: flex; justify-content: center; gap: 1.5rem; flex-wrap: wrap;">
                        <a href="#demo" class="btn-demo-link" style="padding: 1rem 2rem; font-size: 1.1rem;">
                            <i class="fa-solid fa-play"></i> Live Demo
                        </a>
                        <a href="#text-check" class="btn-demo-link" style="padding: 1rem 2rem; font-size: 1.1rem; background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                            <i class="fa-solid fa-keyboard"></i> Text Check
                        </a>
                    </div>
                </div>
            </section>

            <!-- 2. DEMO SECTION -->
            <section id="demo" class="section-container demo-section">
                <div class="section-header center">
                    <span class="section-tag">LIVE DEMO</span>
                    <h2>üéß Real-time Detection</h2>
                    <p>Simulate a real phone conversation with live analysis</p>
                </div>

                <div class="demo-layout">
                    <!-- LEFT: Audio + Log Boxes -->
                    <div class="left-panel">
                        <!-- Audio Player -->
                        <div class="audio-section compact">
                            <div class="audio-player compact">
                                <button id="play-btn" class="play-button compact" title="Play">
                                    <span class="play-icon"><i class="fa-solid fa-play"></i></span>
                                </button>
                                <button id="restart-btn" class="play-button compact restart" title="Restart">
                                    <i class="fa-solid fa-rotate-left"></i>
                                </button>
                                <div class="progress-container compact">
                                    <span id="current-time">0:00</span>
                                    <input type="range" id="seek-bar" value="0" max="100">
                                    <span id="total-time">0:00</span>
                                </div>
                                <audio id="audio-source" src="/static/audio/scam_bank.wav"></audio>
                            </div>
                            <div id="status-indicator" class="status-indicator status-safe compact">
                                <div class="status-dot"></div>
                                <span class="status-text">Ready</span>
                            </div>
                        </div>

                        <!-- 3 Log Boxes -->
                        <div class="log-stack">
                            <!-- ASR -->
                            <div class="log-box">
                                <div class="log-box-header asr">
                                    <i class="fa-solid fa-microphone"></i>
                                    <span>1. Hearing (Whisper)</span>
                                </div>
                                <div id="log-asr" class="log-box-content">
                                    <div class="log-placeholder">Waiting for audio...</div>
                                </div>
                            </div>

                            <!-- BERT -->
                            <div class="log-box">
                                <div class="log-box-header scam">
                                    <i class="fa-solid fa-bolt"></i>
                                    <span>2. Detecting (BERT)</span>
                                </div>
                                <div id="log-scam" class="log-box-content">
                                    <div class="log-placeholder">Waiting for context...</div>
                                </div>
                            </div>

                            <!-- SLM -->
                            <div class="log-box">
                                <div class="log-box-header slm">
                                    <i class="fa-solid fa-brain"></i>
                                    <span>3. Reasoning (Qwen SLM)</span>
                                </div>
                                <div id="log-slm" class="log-box-content">
                                    <div class="log-placeholder">Waiting for trigger...</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- RIGHT: Transcription -->
                    <div class="right-panel">
                        <div class="transcription-section compact">
                            <div class="section-header compact">
                                <h2>üí¨ Live Transcription</h2>
                                <div class="stats-row">
                                    <span class="stat-badge"><i class="fa-solid fa-list"></i> <span
                                            id="segments-count">0</span></span>
                                    <span class="stat-badge danger"><i class="fa-solid fa-triangle-exclamation"></i>
                                        <span id="scam-count">0</span></span>
                                </div>
                            </div>

                            <div id="transcription-box" class="transcription-box compact">
                                <div class="transcription-placeholder">
                                    <span>üéß</span>
                                    <p>Press Play to start the simulation</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 3. TEXT CHECK SECTION -->
            <section id="text-check" class="section-container text-section">
                <div class="section-header center">
                    <span class="section-tag">TRY IT YOURSELF</span>
                    <h2>‚å®Ô∏è Text Analyzer</h2>
                    <p>Test and analyze suspicious SMS or Chat messages</p>
                </div>

                <div class="text-check-container">
                    <div class="text-input-section">
                        <textarea id="text-input" class="text-input-box"
                            placeholder="Type your message here... e.g. 'You won 10,000 baht, click the link to receive'"></textarea>
                        <button id="check-text-btn" class="check-text-button">
                            <i class="fa-solid fa-magnifying-glass"></i> Check Message
                        </button>
                    </div>

                    <div class="text-result-section">
                        <div id="text-result" class="text-result-box">
                            <div class="text-result-placeholder">
                                <i class="fa-solid fa-shield-halved"></i>
                                <p>Analysis results will appear here</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </main>

        <!-- Footer -->
        <footer class="pitch-footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-brand">
                        <span class="brand-icon">üõ°Ô∏è</span>
                        <span class="brand-text">Scam Call Detector</span>
                    </div>
                    <div class="footer-links">
                        <a href="https://github.com/suwapatsuw3/scam-call-detector" target="_blank"><i class="fa-brands fa-github"></i></a>
                        <a href="https://th.linkedin.com/in/warutchot-rattanaphupha-08441a36b" target="_blank"><i class="fa-brands fa-linkedin"></i></a>
                    </div>
                </div>
                <p class="footer-copyright">
                    ¬© 2026 Scam Call Detector. Built with ‚ù§Ô∏è for KBTG Hackathon.
                </p>
            </div>
        </footer>

        <!-- Toast Container -->
        <div id="toast-container"></div>
    </div>

    <script src="/static/js/script.js"></script>
</body>

</html>